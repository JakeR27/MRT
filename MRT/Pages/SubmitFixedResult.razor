@page "/submitdata"
@using MRT.Pages.Forms
@using MRT.Data

<ResultFixedEntry championships="@(championships.FindAll(championship=>championship.Name.Contains("eTdY")))" team="@(teams.Find(team => team.Name == "eTDY"))" competitors="@competitors" onSubmitAction="@LoadData"/>

@code {
    List<Data.ResultModels.Team> teams { get; set; }
    List<Data.ResultModels.Competitor> competitors { get; set; }
    List<Data.ResultModels.Championship> championships { get; set; }
    
    protected override void OnInitialized()
    {
        LoadData();
    }
    
    private void LoadData()
    {
        teams = PersistService.Teams;
        competitors = PersistService.Competitors;
        championships = PersistService.Championships;
        StateHasChanged();
    }
}